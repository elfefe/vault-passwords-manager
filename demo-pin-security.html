<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>D√©mo - S√©curit√© PIN Am√©lior√©e</title>
  <link rel="stylesheet" href="popup.css" />
  <style>
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
    }

    .demo-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 32px;
      max-width: 1200px;
      width: 100%;
    }

    .demo-section {
      background: white;
      border-radius: 16px;
      padding: 32px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      border: 2px solid var(--color-light-gray);
    }

    .demo-section h2 {
      font-size: 20px;
      font-weight: 700;
      background: linear-gradient(135deg, var(--color-violet), var(--color-pink));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 16px;
    }

    .demo-section p {
      color: var(--color-dark-gray);
      font-size: 14px;
      margin-bottom: 20px;
      line-height: 1.6;
    }

    .feature-list {
      list-style: none;
      margin-top: 16px;
      padding-left: 0;
    }

    .feature-list li {
      padding: 8px 0;
      color: var(--color-dark-navy);
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .feature-list li::before {
      content: '‚úì';
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--color-violet), var(--color-pink));
      color: white;
      font-weight: bold;
      font-size: 12px;
      flex-shrink: 0;
    }

    .info-box {
      background: linear-gradient(135deg, rgba(114, 9, 183, 0.05), rgba(247, 37, 133, 0.05));
      border-left: 4px solid var(--color-violet);
      padding: 16px;
      border-radius: 8px;
      margin-top: 20px;
    }

    .info-box strong {
      color: var(--color-violet);
      font-weight: 700;
    }

    .demo-pin-container {
      margin-top: 20px;
    }
  </style>
</head>

<body>
  <div class="demo-container">
    <!-- Authentification Rapide -->
    <div class="demo-section">
      <h2>üîê Authentification Rapide</h2>
      <p>Modal d'authentification avec PIN masqu√© pour une s√©curit√© maximale</p>
      
      <ul class="feature-list">
        <li>PIN masqu√© avec "‚Ä¢‚Ä¢‚Ä¢‚Ä¢"</li>
        <li>Validation automatique (4 chiffres)</li>
        <li>Saisie s√©curis√©e uniquement num√©rique</li>
        <li>Pas de bouton "≈ìil" pour plus de s√©curit√©</li>
      </ul>

      <div class="demo-pin-container">
        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--color-dark-navy);">
          Entrez votre PIN :
        </label>
        <input type="password" class="pin-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" maxlength="4" id="demo-auth-pin" 
          style="width: 100%; padding: 16px; text-align: center; font-size: 28px; letter-spacing: 12px;" />
        <p style="font-size: 12px; color: var(--color-dark-gray); margin-top: 8px; text-align: center;">
          <em>Essayez de taper : 1234</em>
        </p>
      </div>

      <div class="info-box">
        <strong>S√©curit√© :</strong> Le PIN est masqu√© et invisible m√™me lors de la saisie. 
        Validation automatique d√®s 4 chiffres saisis.
      </div>
    </div>

    <!-- Cr√©ation de PIN -->
    <div class="demo-section">
      <h2>üîë Cr√©ation de PIN</h2>
      <p>Modal de cr√©ation avec visibilit√© contr√¥l√©e pour v√©rifier le PIN saisi</p>
      
      <ul class="feature-list">
        <li>PIN masqu√© par d√©faut</li>
        <li>Bouton "≈ìil" pour r√©v√©ler/masquer</li>
        <li>Confirmation du PIN avec toggle s√©par√©</li>
        <li>Validation num√©rique uniquement</li>
      </ul>

      <div class="demo-pin-container">
        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--color-dark-navy);">
          Nouveau PIN :
        </label>
        <div class="pin-input-container">
          <input type="password" class="pin-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" maxlength="4" id="demo-create-pin" 
            style="width: 100%; padding: 16px; text-align: center; font-size: 28px; letter-spacing: 12px;" />
          <button type="button" class="pin-toggle-btn" id="demo-toggle-create" title="Afficher le PIN">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
              <circle cx="12" cy="12" r="3"></circle>
            </svg>
          </button>
        </div>

        <label style="display: block; margin: 16px 0 8px; font-weight: 600; color: var(--color-dark-navy);">
          Confirmer PIN :
        </label>
        <div class="pin-input-container">
          <input type="password" class="pin-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" maxlength="4" id="demo-confirm-pin" 
            style="width: 100%; padding: 16px; text-align: center; font-size: 28px; letter-spacing: 12px;" />
          <button type="button" class="pin-toggle-btn" id="demo-toggle-confirm" title="Afficher le PIN">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
              <circle cx="12" cy="12" r="3"></circle>
            </svg>
          </button>
        </div>
        <p style="font-size: 12px; color: var(--color-dark-gray); margin-top: 8px; text-align: center;">
          <em>Cliquez sur l'≈ìil pour r√©v√©ler/masquer</em>
        </p>
      </div>

      <div class="info-box">
        <strong>UX am√©lior√©e :</strong> Le bouton "≈ìil" permet de v√©rifier le PIN saisi sans erreur, 
        tout en gardant la s√©curit√© par d√©faut (masqu√©).
      </div>
    </div>

    <!-- Comparaison -->
    <div class="demo-section" style="grid-column: 1 / -1;">
      <h2>üìä Comparaison Avant/Apr√®s</h2>
      
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-top: 20px;">
        <div>
          <h3 style="color: #6b7280; font-size: 16px; margin-bottom: 12px;">‚ùå Avant</h3>
          <ul style="list-style: none; padding: 0;">
            <li style="padding: 8px 0; color: #6b7280;">‚Ä¢ PIN visible en clair (type="number")</li>
            <li style="padding: 8px 0; color: #6b7280;">‚Ä¢ Chiffres affich√©s pendant la saisie</li>
            <li style="padding: 8px 0; color: #6b7280;">‚Ä¢ Pas de contr√¥le de visibilit√©</li>
            <li style="padding: 8px 0; color: #6b7280;">‚Ä¢ S√©curit√© compromise</li>
          </ul>
        </div>
        <div>
          <h3 style="color: var(--color-violet); font-size: 16px; margin-bottom: 12px;">‚úÖ Apr√®s</h3>
          <ul style="list-style: none; padding: 0;">
            <li style="padding: 8px 0; color: var(--color-dark-navy);">‚Ä¢ PIN masqu√© avec "‚Ä¢‚Ä¢‚Ä¢‚Ä¢" (type="password")</li>
            <li style="padding: 8px 0; color: var(--color-dark-navy);">‚Ä¢ Caract√®res masqu√©s pendant la saisie</li>
            <li style="padding: 8px 0; color: var(--color-dark-navy);">‚Ä¢ Bouton "≈ìil" pour cr√©ation uniquement</li>
            <li style="padding: 8px 0; color: var(--color-dark-navy);">‚Ä¢ S√©curit√© maximale ‚ú®</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Demo: Limiter √† 4 chiffres et validation automatique
    const demoAuthPin = document.getElementById('demo-auth-pin');
    demoAuthPin.addEventListener('input', (e) => {
      e.target.value = e.target.value.replace(/\D/g, '').slice(0, 4);
      if (e.target.value.length === 4) {
        setTimeout(() => {
          alert('‚úÖ PIN valid√© : ' + e.target.value);
          e.target.value = '';
        }, 200);
      }
    });
    demoAuthPin.addEventListener('keypress', (e) => {
      if (!/^\d$/.test(e.key) && e.key !== 'Backspace') {
        e.preventDefault();
      }
    });

    // Demo: Toggle visibilit√© PIN cr√©ation
    const demoCreatePin = document.getElementById('demo-create-pin');
    const demoToggleCreate = document.getElementById('demo-toggle-create');

    demoCreatePin.addEventListener('input', (e) => {
      e.target.value = e.target.value.replace(/\D/g, '').slice(0, 4);
    });
    demoCreatePin.addEventListener('keypress', (e) => {
      if (!/^\d$/.test(e.key) && e.key !== 'Backspace') {
        e.preventDefault();
      }
    });

    demoToggleCreate.addEventListener('click', () => {
      if (demoCreatePin.type === 'password') {
        demoCreatePin.type = 'text';
        demoToggleCreate.innerHTML = '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>';
        demoToggleCreate.title = 'Masquer le PIN';
      } else {
        demoCreatePin.type = 'password';
        demoToggleCreate.innerHTML = '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>';
        demoToggleCreate.title = 'Afficher le PIN';
      }
    });

    // Demo: Toggle visibilit√© PIN confirmation
    const demoConfirmPin = document.getElementById('demo-confirm-pin');
    const demoToggleConfirm = document.getElementById('demo-toggle-confirm');

    demoConfirmPin.addEventListener('input', (e) => {
      e.target.value = e.target.value.replace(/\D/g, '').slice(0, 4);
    });
    demoConfirmPin.addEventListener('keypress', (e) => {
      if (!/^\d$/.test(e.key) && e.key !== 'Backspace') {
        e.preventDefault();
      }
    });

    demoToggleConfirm.addEventListener('click', () => {
      if (demoConfirmPin.type === 'password') {
        demoConfirmPin.type = 'text';
        demoToggleConfirm.innerHTML = '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>';
        demoToggleConfirm.title = 'Masquer le PIN';
      } else {
        demoConfirmPin.type = 'password';
        demoToggleConfirm.innerHTML = '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>';
        demoToggleConfirm.title = 'Afficher le PIN';
      }
    });
  </script>
</body>

</html>



